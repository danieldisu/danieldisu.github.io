<!DOCTYPE html>
<html>

<head>
  <meta http-equiv="Content-Type" content="text/html" charset="UTF-8" >
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/>
  <title>danieldisu.com</title>
  <meta name="description" content="tech related thoughts" />
  <meta name="HandheldFriendly" content="True" />
  <meta name="MobileOptimized" content="320" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.4/styles/github.min.css">
  <script type="text/javascript" src="/js/highlight.pack.js"></script>
  <link rel="stylesheet" type="text/css" href="/css/main.css" />
  <link rel="stylesheet" type="text/css" href="//fonts.googleapis.com/css?family=Noto+Serif:400,700,400italic|Open+Sans:700,400" />
  <meta name="generator" content="danieldisu.com">

  
  
  

  
</head>


<body class="home-template">

  <header class="site-head">
    <div class="vertical">
        <div class="site-head-content inner">
             <a class="blog-logo" href="/"><img src="/yo.jpg" alt="Blog Logo"/></a> 
            <h1 class="blog-title">danieldisu.com</h1>
            <h2 class="blog-description">tech related thoughts</h2>
        </div>
    </div>
</header>
  
<main class="content" role="main">
  
    <div class="post-container ">
  <article class="post">
    <header class="post-header">
      <span class="post-meta">
      <time datetime="2015-03-07T19:51:17.000Z" itemprop="datePublished">
          2015-03-07
      </time>
      <author> by danieldisu</author>
    
</span>

      <h1 class="post-title"><a href="/2015/03/07/blabla3 copy 11/">blabla</a></h1>
    </header>
    <section class="post-content">
      <p>
        <p>Banh mi craft beer ethical migas. Ethical lumbersexual actually, trust fund ennui Odd Future XOXO Williamsburg flannel vegan roof party butcher cold-pressed leggings typewriter. Occupy kitsch mixtape, meh quinoa heirloom beard narwhal selvage plaid craft beer Blue Bottle cold-pressed. Keffiyeh small batch umami gastropub, brunch cold-pressed Godard PBR&amp;B polaroid banh mi trust fund viral listicle vegan. Wolf fixie skateboard food truck Wes Anderson, taxidermy cray twee polaroid 8-bit church-key. Normcore cornhole cray, YOLO quinoa sartorial Odd Future Wes Anderson raw denim mlkshk gluten-free crucifix church-key dreamcatcher. Disrupt roof party polaroid, sriracha asymmetrical keytar raw denim.</p>

      </p>

    </section>
  </article>
  </div>
  
    <div class="post-container odd">
  <article class="post">
    <header class="post-header">
      <span class="post-meta">
      <time datetime="2015-03-07T19:51:17.000Z" itemprop="datePublished">
          2015-03-07
      </time>
      <author> by danieldisu</author>
    
</span>

      <h1 class="post-title"><a href="/2015/03/07/blabla3 copy 10/">blabla</a></h1>
    </header>
    <section class="post-content">
      <p>
        <p>Banh mi craft beer ethical migas. Ethical lumbersexual actually, trust fund ennui Odd Future XOXO Williamsburg flannel vegan roof party butcher cold-pressed leggings typewriter. Occupy kitsch mixtape, meh quinoa heirloom beard narwhal selvage plaid craft beer Blue Bottle cold-pressed. Keffiyeh small batch umami gastropub, brunch cold-pressed Godard PBR&amp;B polaroid banh mi trust fund viral listicle vegan. Wolf fixie skateboard food truck Wes Anderson, taxidermy cray twee polaroid 8-bit church-key. Normcore cornhole cray, YOLO quinoa sartorial Odd Future Wes Anderson raw denim mlkshk gluten-free crucifix church-key dreamcatcher. Disrupt roof party polaroid, sriracha asymmetrical keytar raw denim.</p>

      </p>

    </section>
  </article>
  </div>
  
    <div class="post-container ">
  <article class="post">
    <header class="post-header">
      <span class="post-meta">
      <time datetime="2015-03-07T19:51:17.000Z" itemprop="datePublished">
          2015-03-07
      </time>
      <author> by danieldisu</author>
    
</span>

      <h1 class="post-title"><a href="/2015/03/07/blabla2/">blabla</a></h1>
    </header>
    <section class="post-content">
      <p>
        <p>Banh mi craft beer ethical migas. Ethical lumbersexual actually, trust fund ennui Odd Future XOXO Williamsburg flannel vegan roof party butcher cold-pressed leggings typewriter. Occupy kitsch mixtape, meh quinoa heirloom beard narwhal selvage plaid craft beer Blue Bottle cold-pressed. Keffiyeh small batch umami gastropub, brunch cold-pressed Godard PBR&amp;B polaroid banh mi trust fund viral listicle vegan. Wolf fixie skateboard food truck Wes Anderson, taxidermy cray twee polaroid 8-bit church-key. Normcore cornhole cray, YOLO quinoa sartorial Odd Future Wes Anderson raw denim mlkshk gluten-free crucifix church-key dreamcatcher. Disrupt roof party polaroid, sriracha asymmetrical keytar raw denim.</p>

      </p>

    </section>
  </article>
  </div>
  
    <div class="post-container odd">
  <article class="post">
    <header class="post-header">
      <span class="post-meta">
      <time datetime="2015-03-07T19:51:17.000Z" itemprop="datePublished">
          2015-03-07
      </time>
      <author> by danieldisu</author>
    
</span>

      <h1 class="post-title"><a href="/2015/03/07/blabla/">blabla</a></h1>
    </header>
    <section class="post-content">
      <p>
        <p>Banh mi craft beer ethical migas. Ethical lumbersexual actually, trust fund ennui Odd Future XOXO Williamsburg flannel vegan roof party butcher cold-pressed leggings typewriter. Occupy kitsch mixtape, meh quinoa heirloom beard narwhal selvage plaid craft beer Blue Bottle cold-pressed. Keffiyeh small batch umami gastropub, brunch cold-pressed Godard PBR&amp;B polaroid banh mi trust fund viral listicle vegan. Wolf fixie skateboard food truck Wes Anderson, taxidermy cray twee polaroid 8-bit church-key. Normcore cornhole cray, YOLO quinoa sartorial Odd Future Wes Anderson raw denim mlkshk gluten-free crucifix church-key dreamcatcher. Disrupt roof party polaroid, sriracha asymmetrical keytar raw denim.</p>

      </p>

    </section>
  </article>
  </div>
  
    <div class="post-container ">
  <article class="post">
    <header class="post-header">
      <span class="post-meta">
      <time datetime="2015-03-07T18:02:00.000Z" itemprop="datePublished">
          2015-03-07
      </time>
      <author> by danieldisu</author>
    
</span>

      <h1 class="post-title"><a href="/2015/03/07/React/">React</a></h1>
    </header>
    <section class="post-content">
      <p>
        <h1 id="Introducción_a_React">Introducción a React</h1><h2 id="Introducción">Introducción</h2><p>En este tutorial vamos a dar los primeros pasos con React, un framework creado por los ingenieros de Facebook que nos ayudará a crear aplicaciones SPA(Single Page Application), centrándose únicamente en la parte de las vistas. La API de React es bastante pequeña, pero el mayor cambio corresponde a la filosofía detrás del framework, por ello nos vamos a centrar en ver los principales puntos de esta filosofía viendo algunos ejemplo prácticos a la par.</p>
<h2 id="¿De_que_va_React?">¿De que va React?</h2><p>Cómo todos sabremos ya a estas alturas, frameworks de Javascript hay muchos, cada uno promete que hará las cosas mejor que el anterior, algunos cogen lo mejor de otros y liman los fallos y otros simplemente se cargan los avances de años de experiencia y hacen algo totalmente distinto (Ember/Angular), otros como React han decidido romper con algunas de las supuestas buenas prácticas que se habían considerado en los últimos años en la parte cliente y junto con la inclusión algunas de las mejores características de la programación funcional han creado un framework especial, que seguramente influencie a muchos otros que vengan después.</p>
<p>Cómo he comentado anteriormente React se encarga solo de la parte de la vista de nuestra aplicación, aunque Facebook propone una arquitectura para modelar el resto de la aplicación, llamada Flux, en este caso la arquitectura no va acompañada de un Framework y ha dejado a la comunidad sacar distintas implementaciones de ese concepto.</p>
<p>Esto puede parecer raro, pero permite que React pueda ser mucho más flexible, ya que no te obliga a elegir un framework monolítico si no que te deja que tu incluyas las piezas que quieres para completar el puzzle.</p>
<h2 id="Un_poco_más_de_info_sobre_Flux-">Un poco más de info sobre Flux.</h2><p><a href="http://facebook.github.io/flux/docs/overview.html" target="_blank" rel="external">Flux</a> es la arquitectura que recomienda Facebook para complementar con React. Se compone de 3 grandes partes:</p>
<ul>
<li>Dispatchers</li>
<li>Stores</li>
<li>Views</li>
</ul>
<p>Una cuarta pieza más pequeña sería la Controller-View, una vista que gestiona varias vistas. Flux se centra en el flujo de la información que deja de ser bidireccional para convertirse en un flujo unidireccional, esto es una de las características más importantes de Flux.</p>
<p><img src="introduccion-react/flux.png" alt="flux"></p>
<h4 id="Actions">Actions</h4><p>Las <em>Actions</em> son los diferentes tipos de operaciones que se pueden producir en nuestra aplicación, acciones como <em>el usuario ha clickado en un botón</em>, <em>se ha completado una petición</em>, <em>se ha añadido un item al carrito</em>, <em>se ha borrado un item del carrito</em>, etc…</p>
<p>Las acciones son eventos de Javascript, con el añadido de que les estamos dando <strong>nombres de dominio</strong> lo cual ayuda mucho para que los distintos desarrolladores del equipo tengan un lenguaje común ante los diferentes eventos del sistema.</p>
<h4 id="Dispatcher">Dispatcher</h4><p>El <em>Dispatcher</em>, es el encargado de manejar el tráfico de eventos, recibe todas las acciones y decide si quiere o no actuar en consecuencia, puede esperar a recibir varias acciones antes de actuar.. etc</p>
<p>Este es el único componente que tiene una implementación concreta y se ofrece como una <a href="https://github.com/facebook/flux/blob/master/src/Dispatcher.js" target="_blank" rel="external">librería</a>.</p>
<h4 id="Stores">Stores</h4><p>Las <em>Stores</em> son las piezas intermedias entre el Dispatcher y las vistas, a la vez que mantienen los datos necesarios para luego pintarlos en las vistas.<br>Quizás esta sea una de las partes que mas controversia han generado respecto a este tipo de arquitectura, por lo que han salido otras arquitectura similares, solucionando algunos de los problemas que se ha encontrado la gente.</p>
<p>Lo bueno de React es que no te condiciona a usar ninguna arquitectura, por lo que a la hora de usar React puedes valorar las distintas propuestas y coger la que mas se adapte a tu aplicación.</p>
<h2 id="JSX">JSX</h2><p>Una de las primeras cosas que llaman la atención cuando ves código escrito con React es la sintaxis estilo HTML metida dentro de funciones Javascript sin escapar. Esto es porqué React proporciona un lenguaje opcional llamado <strong>JSX</strong> que permite crear componentes de React con una sintaxis parecida a HTML.</p>
<script src="https://gist.github.com/danieldisu/81f0b00a9527b6751509.js"></script>

<p>En el Snippet de código se está haciendo el típico Hola Mundo, podemos ver como se está declarando el componente HelloWorld que luego instancia con la sintaxis <code>&lt;HelloWorld /&gt;</code> pasándole por parámetro cómo si fuera un parámetro HTML, y a continuación lo renderiza en el elemento del DOM con id <code>example</code>.</p>
<p>Esto puede parecer muy raro al principio, pero una vez que te acostumbras ver lo ventajoso que es y que ayuda a ver claramente lo que quieres hacer.</p>
<p>También se puede usar React sin JSX, ya que al final lo que hace JSX es convertir esas etiquetas en llamadas a React.createElement(), en el siguiente ejemplo podemos ver como crearíamos algo con y sin JSX.</p>
<script src="https://gist.github.com/danieldisu/453f80798f5007bc9bb3.js"></script>

<p>Esto nos obliga a tener un paso intermedio, que podemos solucionar con distintas herramientas como Browserify, Gulp y Grunt. Que hoy en día ya son imprescindibles para cualquier aplicación seria escrita en Javascript.</p>
<h2 id="React_y_el_estado_de_las_vistas">React y el estado de las vistas</h2><p>Una de las principales ventajas es que las vistas de React tengan el mínimo estado posible, esto se puede entender de manera muy sencilla, un componente de tipo checkbox, solo tiene dos estados, activo e inactivo. Es importante aclarar que el único estado que ha de almacenar la vista es el estado de UI, como el del ejemplo anterior.</p>
<p>Las vistas que necesiten estados más complejos han de componerse a su vez de subvistas, y será este componente el encargado de iniciar el estado de las vistas. A partir de ahí son las propias vistas las encargadas de cambiar su estado de manera que el estado se puede considerar <strong>privado</strong>.</p>
<p>Otra característica interesante de React es que una vez se modifica el estado del componente, vuelve a renderizarlo de 0 con ese nuevo estado en un DOM a parte que han denominado DOM virtual, a partir de ahí usan un algoritmo <em>diff</em> para ver las diferencias con el DOM real, y genera los cambios mínimos necesarios para modificar el DOM real al estado deseado. Esto no incurre en una gran penalización de uso de memoria o rendimiento como sucede en otros frameworks que usan otras técnicas como <a href="http://stackoverflow.com/questions/15112584/using-scope-watch-and-scope-apply/15113029#15113029" target="_blank" rel="external"><em>dirty checking</em></a> o el cambio entero del DOM.</p>
<p>Esto nos facilita mucho la vida ya que nosotros solo tenemos que saber pintar la vista en los diferentes estados y no tenemos que preocuparnos por la transición entre dichos estados y todos los fallos que eso puede provocar.</p>
<h2 id="Modificando_el_estado_de_un_componente_(props_vs_state)">Modificando el estado de un componente (props vs state)</h2><p>Al estado inicial del componente que se pasa en la inicialización le han dado el nombre de props(propiedades), de manera que para acceder a dichos atributos podemos acceder de la siguiente manera:</p>
<script src="https://gist.github.com/danieldisu/0c525cf11e859a49bf82.js"></script>

<p>Los componentes también tienen un atributo <code>state</code> que recoge el estado de dicho componente, son los propios componentes los que suelen generar el estado inicial a partir de las propiedades que se le han pasado, y actualizarlo según se vayan produciendo los distintos eventos que admita. La manera de actualizar dicho estado es mediante el método <code>setState(object nextState[, function callback])</code>, este método <em>mergea</em> el estado antiguo con el nuevo estado que le pasamos por parámetro y una vez realizado re-renderiza el componente.</p>
<p>La principal diferencia entre las propiedades y el estado es que las propiedades son inmutables, no cambiarán en el ciclo de vida del componente, en cambio el estado si puede cambiar en función de eventos del usuario por ejemplo. Es importante entender que el estado ha de ser usado únicamente para representar estado de la interfaz.</p>
<h2 id="Reaccionar_ante_el_cambio">Reaccionar ante el cambio</h2><p>Hasta ahora hemos visto como renderizar componentes a partir de un estado inicial y de una serie de datos originales, pero las aplicaciones necesitan responder ante eventos producidos por el usuario, clicks, escritura en cajas de texto.. etc.</p>
<script src="https://gist.github.com/danieldisu/9c9fa0768c8fd545145f.js"></script>

<p>En el snippet de texto vemos como añadimos un evento como se añaden en HTML, pasándole por parámetro la función que se encargará de manejar el evento.</p>
<h2 id="Comunicación_entre_componentes">Comunicación entre componentes</h2><p>El siguiente paso lógico es el comunicar el cambio a otros componentes, la idea es que el cambio siempre se propague hacía arriba(padre) y nunca hacia los lados(hermanos), dejando en las manos del padre la posibilidad de propagar o no el evento hacía abajo.</p>
<p>En el ejemplo a continuación podemos ver todas estas ideas en práctica:</p>
<script src="//gist.github.com/1fd511bf8b0203b8218a.js"></script>
<p>El componente HelloName es el componente padre que se encarga de coordinar los otros dos componentes, en este caso es el único que tiene estado, los otros componentes solo tienen propiedades, una vez el usuario escriba algo en la caja de texto, el componente HelloNameInput se lo notificará al padre y el padre modificará su estado, propiciando un re-renderizado de todos los hijos y dándoles el nuevo estado como propiedad.</p>
<h2 id="Componentes_reusables">Componentes reusables</h2><p>Otra de las ideas que busca React es que los componentes sean lo más genéricos posibles de manera que puedan ser reusables, permitiéndonos componer vistas más complicadas a partir de vistas más sencillas.</p>
<p>Podemos ver páginas cómo <a href="http://react-components.com/" target="_blank" rel="external">React Componentes</a> en las que podemos ver componentes realizados por otras personas, que nos ayudarán con distintas abstracciones a la hora de modelar nuestros propios componentes.</p>
<h2 id="Conclusiones">Conclusiones</h2><p>Como hemos podido comprobar React es un cambio bastante grande en cuanto a como entender las aplicaciones cliente(SPA), pero parece un gran paso en el buen camino. Quizás al principio se pueda hacer raro por la sintaxis, pero rápidamente vemos que es un mero tema cosmético y que de verdad mejora sin aumentar la complejidad o la curva de aprendizaje.</p>
<p>Hablando de curva de aprendizaje, React tiene una curva de aprendizaje muy corta, en un par de días puedes estar ya modificando código React o creando el tuyo propio, debido a que no hay que tener una idea global de la aplicación si no de lo componente que estamos modificando y los componentes adyacentes.</p>

      </p>

    </section>
  </article>
  </div>
  
  <nav class="pagination" role="pagination">
    <a class="newer-posts" href="/archives/2015/03/page/3/">← Newer Posts</a>
    <span class="page-number">Page 4 of 5</span>
    <a class="older-posts" href="/archives/2015/03/page/5/">Older Posts →</a>
  </nav>
</main>


  
<footer class="site-footer">
  
  <div class="inner">
     <section class="copyright">All content copyright <a href="/">danieldisu.com</a> &copy; 2014 &bull; All rights reserved.</section>
     <section class="poweredby">Proudly published with <a class="icon-ghost" href="http://zespia.tw/hexo/">Hexo</a></section>
  </div>
</footer>

  <script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>

<script type="text/javascript" src="/js/jquery.fitvids.js"></script>
<script type="text/javascript" src="/js/index.js"></script>
<script>
$(document).ready(function() {
	$('pre code').each(function(i, block) {
		hljs.highlightBlock(block);
	});
});
</script>




<script type="text/javascript">
function UpdateTableHeaders() {
   $(".post-container").each(function() {

       var el             = $(this),
           offset         = el.offset(),
           scrollTop      = $(window).scrollTop(),
           floatingHeader = $(".floatingHeader", this)

       if ((scrollTop > offset.top) && (scrollTop < offset.top + (el.height() - 100))) {
           floatingHeader.css({
            "visibility": "visible",
						"width": window.innerHeight
           });
       } else {
           floatingHeader.css({
            "visibility": "hidden",
						"width": window.innerHeight
           });
       };
   });
}

// DOM Ready
$(function() {

   var clonedHeaderRow;

   $(".post-container").each(function() {
       clonedHeaderRow = $(".post-title", this);
       clonedHeaderRow
         .before(clonedHeaderRow.clone())
         .css("width", clonedHeaderRow.width())
         .addClass("floatingHeader");

   });

   $(window)
    .scroll(UpdateTableHeaders)
    .trigger("scroll");

});
</script>

</body>
</html>
